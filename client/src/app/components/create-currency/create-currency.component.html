<h1 mat-dialog-title class="dialog-title">Add New Currency</h1>
<p matDialogContent class="dialog-subtitle">
    Enter the details for the new cryptocurrency
</p>

<mat-dialog-content class="mat-typography dialog-content">
    <form [formGroup]="currencyFg" class="form-layout">
        <div class="right">
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Symbol</mat-label>
                <input type="text" [formControl]="SymbolCtrl" matInput />
                @if (SymbolCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
                @else if (SymbolCtrl.hasError('maxlength')) {
                <mat-error>Max 50 chars</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Full Name</mat-label>
                <input type="text" [formControl]="FullNameCtrl" matInput />
                @if (FullNameCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
                @else if (FullNameCtrl.hasError('maxlength')) {
                <mat-error>Max 50 chars</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Currency Price ($)</mat-label>
                <input type="number" [formControl]="CurrencyPriceCtrl" matInput />
                @if (CurrencyPriceCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
            </mat-form-field>
        </div>

        <div class="left">
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Market Cap</mat-label>
                <input type="text" [formControl]="MarketCapCtrl" matInput />
                @if (MarketCapCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
                @else if (MarketCapCtrl.hasError('maxlength')) {
                <mat-error>Max 50 chars</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Category</mat-label>
                <mat-select [formControl]="CategoryCtrl">
                    @for (option of categoryOptions; track $index) {
                    <mat-option [value]="option">{{ option }}</mat-option>
                    }
                </mat-select>
                @if (CategoryCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
                @else if (CategoryCtrl.hasError('maxlength')) {
                <mat-error>Max 50 chars</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Status</mat-label>
                <mat-select [formControl]="StatusCtrl">
                    @for (option of statusOptions; track $index) {
                    <mat-option [value]="option">{{ option }}</mat-option>
                    }
                </mat-select>
                @if (StatusCtrl.hasError('required')) {
                <mat-error>This field is required</mat-error>
                }
                @else if (StatusCtrl.hasError('maxlength')) {
                <mat-error>Max 50 chars</mat-error>
                }
            </mat-form-field>
        </div>
    </form>
</mat-dialog-content>

<mat-dialog-actions align="end" class="dialog-actions">
    <button mat-raised-button mat-dialog-close class="add" (click)="createCurrency()"
        [disabled]="currencyFg.invalid" color="primary">
        Add
    </button>
    <button mat-raised-button [mat-dialog-close]="true" color="warn">
        Close
    </button>
</mat-dialog-actions>